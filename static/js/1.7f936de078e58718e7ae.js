webpackJsonp([1],{"KT+S":function(t,e){},NSC0:function(t,e){},QfdZ:function(t,e){},X6d5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),o=n("NYxO"),s={name:"Head",data:function(){return{}},mounted:function(){},computed:i()({},Object(o.c)({companyValue:function(t){return t.companyValue}})),methods:i()({},Object(o.b)(["getCollapse"]))},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"head"},[e("div",{staticClass:"collapse-btn",on:{click:this.getCollapse}},[e("i",{staticClass:"el-icon-menu"})]),this._v(" "),e("div",{staticClass:"logo"},[this._v("党政知识图谱")]),this._v(" "),e("div",{staticClass:"top-nav"})])},staticRenderFns:[]};var r=n("VU/8")(s,l,!1,function(t){n("pa73")},"data-v-2c824cc9",null).exports,d={name:"sidebar",data:function(){return{indexPath:[],sidebarInfo:[{icon:"el-icon-view",index:"Recommand",title:"智能推荐"},{icon:"el-icon-question",index:"QA",title:"问答"},{icon:"el-icon-search",index:"Search",title:"搜索"}]}},computed:i()({},Object(o.c)({collapse:function(t){return t.collapse}})),methods:{}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"sidebar-left"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:t.collapse,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","unique-opened":"",router:""}},[t._l(t.sidebarInfo,function(e,a){return[e.subNav?n("el-submenu",{key:e.index,attrs:{index:e.index}},[n("template",{slot:"title"},[n("i",{class:e.icon}),t._v(" "),n("span",[t._v(t._s(e.title))])]),t._v(" "),n("el-menu-item-group",t._l(e.subNav,function(e,a){return n("el-menu-item",{key:e.index,attrs:{index:e.index}},[t._v(t._s(e.title))])}))],2):n("el-menu-item",{key:e.index,attrs:{index:e.index}},[[n("i",{class:e.icon}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]],2)]})],2)],1)},staticRenderFns:[]};var p=n("VU/8")(d,c,!1,function(t){n("QfdZ")},"data-v-652fdca8",null).exports,u={data:function(){return{activeValue:"",indexPath:[],isShowTags:!0}},created:function(){this.setTags(this.$route)},watch:{$route:function(t){this.setTags(t)}},methods:{setTags:function(t){this.activeValue=t.meta.title,!this.indexPath.some(function(e){return e.path===t.path})&&this.indexPath.unshift({name:t.meta.title,path:t.path}),console.log(this.indexPath.length),this.indexPath.length>8&&this.indexPath.splice(this.indexPath.length-1,1)},closeTag:function(t){var e=this.indexPath.splice(t,1)[0],n=this.indexPath[t]?this.indexPath[t]:this.indexPath[t-1];n?e.path===this.$route.path&&this.$router.push(n.path):this.$router.push("/Recommand")},handleCommand:function(t){console.log(t),this.indexPath="a"===t?[{name:this.$route.meta.title,path:this.$route.path}]:[],this.indexPath.length||(this.isShowTags=!1)}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowTags?n("div",{staticClass:"tags"},[n("div",{staticClass:"tag-box"},[n("ul",t._l(t.indexPath,function(e,a){return n("li",{key:a,class:{active:e.name===t.activeValue}},[n("router-link",{staticClass:"tab-item",class:{active:t.activeValue===a},attrs:{to:{path:e.path}}},[n("span",[t._v(t._s(e.name))])]),t._v(" "),n("span",{staticClass:"tag_delete",on:{click:function(e){t.closeTag(a)}}},[n("i",{staticClass:"el-icon-close"})])],1)}))]),t._v(" "),n("div",{staticClass:"tag-close-box"},[n("el-dropdown",{on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v("\n      标签设置"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"a"}},[t._v("关闭其它")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"b"}},[t._v("关闭所有")])],1)],1)],1)]):t._e()},staticRenderFns:[]};var f=n("VU/8")(u,h,!1,function(t){n("NSC0")},"data-v-3070767c",null).exports,v=n("c2Ch"),m={name:"showGraph",data:function(){return{formLabelWidth:"120px",chart:null,nodeIdForPopup:null,nodeDataForPopup:null,nodeKeyAliasDict:{person:"人物",location:"地点",time:"时间",t_url:"链接",t_title:"标题",content:"内容",position:"职位",resume:"简历",nation:"国籍"},nodeKeyNotDisplay:{t_id:0,trigger:0,value:0,target:0}}},computed:i()({},Object(o.c)({dialogshowGraph:function(t){return t.dialogshowGraph},graph_data:function(t){return t.graph_data}})),updated:function(){this.init_graph()},methods:{dialog_close:function(){this.$store.dispatch("dialogshowGraph"),this.$refs.popup.style.display="none"},reqExpandNode:function(t,e,n,a){Object(v.a)(e,n).then(function(t){a.chart.addData(t.data)})},update:function(t,e){if(e.dialogshowGraph){var n=e.$refs.popup;if(e.nodeIdForPopup){var a=e.nodeIdForPopup;t&&t.clickNode&&(a=t.clickNode.id,e.nodeIdForPopup=a);var i=e.chart.getNodeDimensions(a);if(i&&a){var o=e.$refs.chartContainer,s=o.offsetTop,l=o.offsetLeft;n.style.top=s+i.y+"px",n.style.left=l+i.x+"px",n.style.display="block"}}else 0===n.offsetWidth&&0===n.offsetHeight||(n.style.display="none")}},init_graph:function(){var t=this;t.nodeIdForPopup=null,t.added_graph_data=null,this.chart=new NetChart({container:this.$refs.chartContainer,info:{enabled:!0,nodeContentsFunction:function(t,e){},linkContentsFunction:function(t,e){if(t.name)return"<p style='padding-left:5px;padding-right:5px;'>"+t.name+"</p></div>"}},events:{onClick:function(e,n){n.clickNode?t.nodeIdForPopup!=n.clickNode&&(t.nodeIdForPopup=n.clickNode,t.nodeDataForPopup=n.clickNode.data):t.nodeIdForPopup=null,t.$options.methods.update(e,t)},onPositionChange:function(e,n){t.$options.methods.update(e,t)},onPointerDrag:function(e,n){t.$options.methods.update(e,t)},onChartUpdate:function(e,n){t.$options.methods.update(e,t)},onSettingsChange:function(e,n){t.$options.methods.update(e,t)},onDoubleClick:function(e,n){t.reqExpandNode(n.clickNode.data.id,n.clickNode.data.props.value,n.clickNode.data.label,t),e.preventDefault()}},style:{node:{display:"roundtext"},nodeStyleFunction:function(t){t.items=[{text:t.data.label,px:0,py:-1,x:0,y:-5,textStyle:{fillColor:"black"}}]}}}),this.chart.addData(this.graph_data)}},watch:{graph_data:function(){this.init_graph()},nodeDataForPopup:function(){var t=this.nodeDataForPopup,e="<div style='margin:auto; width:400px; height:100%; padding: 10px;'><h3 style='font-weight: 300; font-size: 18px; color: #2f256e; padding-bottom: 3px; margin:0px'>"+t.props.value+"["+t.label+"]</h3>";for(var n in t.props)if(!(n in this.nodeKeyNotDisplay)){var a=t.props[n],i=n;if(n in this.nodeKeyAliasDict&&(i=this.nodeKeyAliasDict[n]),"t_url"==n){if("Person"==t.label)continue;e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px'>"+i+":"+("<a href='"+a+"' target='_blank'>"+a+"</a>")+"</p>"}else{var o=a.split("\n");if(1==o.length)e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px'>"+i+":"+a+"</p>";else{for(var s in e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px'>"+i+":</p>",o){if(s>=5)break;e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px;margin-left:20px'>"+o[s]+"</p>"}if(o.length>5&&t.props.t_url)e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px;margin-left:20px'>"+("<a href='"+t.props.t_url+"' target='_blank'>[全部内容请点击链接查看]</a>")+"</p>"}}}e+="</div>",this.$refs.popup.innerHTML=e}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"show-Graph"},[n("div",{ref:"popup",staticStyle:{margin:"auto",width:"400px",padding:"10px"},attrs:{id:"popup"}}),t._v(" "),[n("el-dialog",{attrs:{title:"知识图谱","close-on-click-modal":!1,"append-to-body":!0,"close-on-press-escape":!1,visible:t.dialogshowGraph,"before-close":t.dialog_close,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogshowGraph=e}}},[n("div",{ref:"chartContainer",attrs:{id:"chartContainer"}})])]],2)},staticRenderFns:[]};var x={name:"Home",components:{headTop:r,sidebar:p,tags:f,showGraph:n("VU/8")(m,g,!1,function(t){n("KT+S")},"data-v-4d898c6c",null).exports},data:function(){return{aa:null}},computed:i()({},Object(o.c)({collapse:function(t){return t.collapse}})),methods:{}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Home"}},[e("head-top"),this._v(" "),e("div",{staticClass:"wrapper"},[e("sidebar"),this._v(" "),e("showGraph"),this._v(" "),e("div",{staticClass:"main",class:{"content-collapse":this.collapse}},[e("div",{staticClass:"container"},[e("transition",{attrs:{name:"move",mode:"out-in"}},[e("keep-alive",[e("router-view")],1)],1)],1)])],1)],1)},staticRenderFns:[]};var y=n("VU/8")(x,_,!1,function(t){n("pUEL")},"data-v-36a6328e",null);e.default=y.exports},pUEL:function(t,e){},pa73:function(t,e){}});
//# sourceMappingURL=1.7f936de078e58718e7ae.js.map