webpackJsonp([1],{"8Szo":function(t,e){},BpDM:function(t,e){},NSC0:function(t,e){},X6d5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),o=a("NYxO"),s={name:"Head",data:function(){return{}},mounted:function(){},computed:i()({},Object(o.c)({companyValue:function(t){return t.companyValue}})),methods:i()({},Object(o.b)(["getCollapse"]))},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"head"},[e("div",{staticClass:"collapse-btn",on:{click:this.getCollapse}},[e("i",{staticClass:"el-icon-menu"})]),this._v(" "),e("div",{staticClass:"logo"},[this._v("党政知识图谱")]),this._v(" "),e("div",{staticClass:"top-nav"})])},staticRenderFns:[]};var r=a("VU/8")(s,l,!1,function(t){a("pa73")},"data-v-2c824cc9",null).exports,d={name:"sidebar",data:function(){return{indexPath:[],sidebarInfo:[{icon:"el-icon-view",index:"Recommand",title:"智能推荐"},{icon:"el-icon-question",index:"QA",title:"问答"}]}},computed:i()({},Object(o.c)({collapse:function(t){return t.collapse}})),methods:{}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sidebar-left"}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:t.collapse,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","unique-opened":"",router:""}},[t._l(t.sidebarInfo,function(e,n){return[e.subNav?a("el-submenu",{key:e.index,attrs:{index:e.index}},[a("template",{slot:"title"},[a("i",{class:e.icon}),t._v(" "),a("span",[t._v(t._s(e.title))])]),t._v(" "),a("el-menu-item-group",t._l(e.subNav,function(e,n){return a("el-menu-item",{key:e.index,attrs:{index:e.index}},[t._v(t._s(e.title))])}))],2):a("el-menu-item",{key:e.index,attrs:{index:e.index}},[[a("i",{class:e.icon}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]],2)]})],2)],1)},staticRenderFns:[]};var p=a("VU/8")(d,c,!1,function(t){a("8Szo")},"data-v-d4ae6474",null).exports,u={data:function(){return{activeValue:"",indexPath:[],isShowTags:!0}},created:function(){this.setTags(this.$route)},watch:{$route:function(t){this.setTags(t)}},methods:{setTags:function(t){this.activeValue=t.meta.title,!this.indexPath.some(function(e){return e.path===t.path})&&this.indexPath.unshift({name:t.meta.title,path:t.path}),console.log(this.indexPath.length),this.indexPath.length>8&&this.indexPath.splice(this.indexPath.length-1,1)},closeTag:function(t){var e=this.indexPath.splice(t,1)[0],a=this.indexPath[t]?this.indexPath[t]:this.indexPath[t-1];a?e.path===this.$route.path&&this.$router.push(a.path):this.$router.push("/Recommand")},handleCommand:function(t){console.log(t),this.indexPath="a"===t?[{name:this.$route.meta.title,path:this.$route.path}]:[],this.indexPath.length||(this.isShowTags=!1)}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShowTags?a("div",{staticClass:"tags"},[a("div",{staticClass:"tag-box"},[a("ul",t._l(t.indexPath,function(e,n){return a("li",{key:n,class:{active:e.name===t.activeValue}},[a("router-link",{staticClass:"tab-item",class:{active:t.activeValue===n},attrs:{to:{path:e.path}}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("span",{staticClass:"tag_delete",on:{click:function(e){t.closeTag(n)}}},[a("i",{staticClass:"el-icon-close"})])],1)}))]),t._v(" "),a("div",{staticClass:"tag-close-box"},[a("el-dropdown",{on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n      标签设置"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[t._v("关闭其它")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"b"}},[t._v("关闭所有")])],1)],1)],1)]):t._e()},staticRenderFns:[]};var f=a("VU/8")(u,h,!1,function(t){a("NSC0")},"data-v-3070767c",null).exports,v=a("c2Ch"),m={name:"showGraph",data:function(){return{formLabelWidth:"120px",chart:null,nodeIdForPopup:null,nodeDataForPopup:null,nodeKeyAliasDict:{person:"人物",location:"地点",time:"时间",t_url:"链接",t_title:"标题",content:"内容",position:"职位",resume:"简历",nation:"国籍"},nodeKeyNotDisplay:{t_id:0,trigger:0,value:0,target:0,end_time:0,weight:0}}},computed:i()({},Object(o.c)({dialogshowGraph:function(t){return t.dialogshowGraph},graph_data:function(t){return t.graph_data}})),updated:function(){this.init_graph()},methods:{dialog_close:function(){this.$store.dispatch("dialogshowGraph"),this.$refs.popup.style.display="none"},reqExpandNode:function(t,e,a,n){Object(v.a)(e,a).then(function(t){n.chart.addData(t.data)})},update:function(t,e){if(e.dialogshowGraph){var a=e.$refs.popup;if(e.nodeIdForPopup){var n=e.nodeIdForPopup;t&&t.clickNode&&(n=t.clickNode.id,e.nodeIdForPopup=n);var i=e.chart.getNodeDimensions(n);if(i&&n){var o=e.$refs.chartContainer,s=o.offsetTop,l=o.offsetLeft;a.style.top=s+i.y+"px",a.style.left=l+i.x+"px",a.style.display="block"}}else 0===a.offsetWidth&&0===a.offsetHeight||(a.style.display="none")}},init_graph:function(){var t=this;t.nodeIdForPopup=null,t.added_graph_data=null,this.chart=new NetChart({container:this.$refs.chartContainer,info:{enabled:!0,nodeContentsFunction:function(t,e){},linkContentsFunction:function(t,e){if(t.name)return"<p style='padding-left:5px;padding-right:5px;'>"+t.name+"</p></div>"}},events:{onClick:function(e,a){a.clickNode?t.nodeIdForPopup!=a.clickNode&&(t.nodeIdForPopup=a.clickNode,t.nodeDataForPopup=a.clickNode.data):t.nodeIdForPopup=null,t.$options.methods.update(e,t)},onPositionChange:function(e,a){t.$options.methods.update(e,t)},onPointerDrag:function(e,a){t.$options.methods.update(e,t)},onChartUpdate:function(e,a){t.$options.methods.update(e,t)},onSettingsChange:function(e,a){t.$options.methods.update(e,t)},onDoubleClick:function(e,a){t.reqExpandNode(a.clickNode.data.id,a.clickNode.data.props.value,a.clickNode.data.label,t),e.preventDefault()}},style:{node:{display:"roundtext"},nodeStyleFunction:function(t){for(var e=t.data.style.label,a=new Array,n=e.length,i=0;i<n/4;i++)4*(i+1)>n?a.push(e.substring(4*i,n)):a.push(e.substring(4*i,4*(i+1)));e=a.slice(0,2).join(" "),a.length>2&&(e+="..."),t.label=e,t.items=[{text:t.data.label,px:0,py:-1,x:0,y:-5,textStyle:{fillColor:"black"}}],t.hovered?t.radius=50:t.radius=40}}}),this.chart.addData(this.graph_data)}},watch:{graph_data:function(){this.init_graph()},nodeDataForPopup:function(){var t=this.nodeDataForPopup,e="<div style='margin:auto; width:400px; height:100%; padding: 10px;'><h3 style='font-weight: 300; font-size: 18px; color: #2f256e; padding-bottom: 3px; margin:0px'>"+t.props.value+"["+t.label+"]</h3>";for(var a in t.props)if(!(a in this.nodeKeyNotDisplay)){var n=t.props[a];try{JSON.parse(n);n="<a href='"+t.props.t_url+"' target='_blank'>请点击链接查看具体内容</a>"}catch(t){n=n}var i=a;if(a in this.nodeKeyAliasDict&&(i=this.nodeKeyAliasDict[a]),"t_url"==a){if("Person"==t.label)continue;e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px'>"+i+":"+("<a href='"+n+"' target='_blank'>"+n+"</a>")+"</p>"}else{var o=n.split("\n");if(1==o.length)e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px'>"+i+":"+n+"</p>";else{for(var s in e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px'>"+i+":</p>",o){if(s>=5)break;e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px;margin-left:20px'>"+o[s]+"</p>"}if(o.length>5&&t.props.t_url)e+="<p style='font-size: 15px;font-family: Arial, Helvetica, sans-serif;font-weight: 300;padding:1px;margin-left:20px'>"+("<a href='"+t.props.t_url+"' target='_blank'>[全部内容请点击链接查看]</a>")+"</p>"}}}e+="</div>",this.$refs.popup.innerHTML=e}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"show-Graph"},[a("div",{ref:"popup",staticStyle:{margin:"auto",width:"400px",padding:"10px"},attrs:{id:"popup"}}),t._v(" "),[a("el-dialog",{attrs:{title:"知识图谱","close-on-click-modal":!1,"append-to-body":!0,"close-on-press-escape":!1,visible:t.dialogshowGraph,"before-close":t.dialog_close,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogshowGraph=e}}},[a("div",{ref:"chartContainer",attrs:{id:"chartContainer"}})])]],2)},staticRenderFns:[]};var x={name:"Home",components:{headTop:r,sidebar:p,tags:f,showGraph:a("VU/8")(m,g,!1,function(t){a("BpDM")},"data-v-5d13b378",null).exports},data:function(){return{aa:null}},computed:i()({},Object(o.c)({collapse:function(t){return t.collapse}})),methods:{}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"Home"}},[e("head-top"),this._v(" "),e("div",{staticClass:"wrapper"},[e("sidebar"),this._v(" "),e("showGraph"),this._v(" "),e("div",{staticClass:"main",class:{"content-collapse":this.collapse}},[e("div",{staticClass:"container"},[e("transition",{attrs:{name:"move",mode:"out-in"}},[e("keep-alive",[e("router-view")],1)],1)],1)])],1)],1)},staticRenderFns:[]};var b=a("VU/8")(x,_,!1,function(t){a("pUEL")},"data-v-36a6328e",null);e.default=b.exports},pUEL:function(t,e){},pa73:function(t,e){}});
//# sourceMappingURL=1.fb15109be3e9e012ff07.js.map